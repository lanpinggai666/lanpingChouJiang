<Window x:Class="lanpingcj.WarningMeassageBox"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="MainWindow" 
        Height="250" 
        Width="350"
        SizeToContent="Height"
        WindowStyle="None"
        ResizeMode="NoResize"
        WindowStartupLocation="CenterScreen"
        xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
        ShowInTaskbar="False"
        Topmost="True"
        ui:Design.Background="{DynamicResource ApplicationBackgroundBrush}">
    <WindowChrome.WindowChrome>
        <WindowChrome CaptionHeight="0"
                      ResizeBorderThickness="0"
                      CornerRadius="8"/>
    </WindowChrome.WindowChrome>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="55"/>
        </Grid.RowDefinitions>

        <!-- 上部分 - 高度自适应 -->
        <Border Grid.Row="0" Background="#FFFFFF" Padding="20,0,20,20">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="45"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <!-- 测试内容 - 在标题和额外内容之间垂直居中 -->
                <Grid Grid.Row="1" HorizontalAlignment="Left" VerticalAlignment="Center">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <!-- 图标放在左侧 -->
                    <Image x:Name="errorIcon"
                           Grid.Column="0" 
                           Source="/test.png" 
                           Width="32" 
                           Height="32" 
                           Margin="0,0,10,0"
                           VerticalAlignment="Center"/>

                    <!-- 文本内容 -->
                    <TextBlock Grid.Column="1"
                           Text="测试内容" 
                           HorizontalAlignment="Left" 
                           VerticalAlignment="Center" 
                           FontSize="14"
                           TextWrapping="Wrap"
                           MaxWidth="250"
                           x:Name="errorContext"/>
                </Grid>

                <!-- 额外内容 - 在上部分底部 -->

            </Grid>
        </Border>

        <!-- 下部分 - 固定高度 -->
        <Border Grid.Row="1" Background="#f3f3f3">
            <Button Name="确定"
                Content="确定" 
                Width="160" 
                Height="35" 
                HorizontalAlignment="Right" 
                VerticalAlignment="Bottom" 
                Margin="0,0,10,12"
                Click="OK"
                Foreground="#E4FFFFFF">
                <Button.Background>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                        <GradientStop Color="#0f6cbd" Offset="0.0"/>
                    </LinearGradientBrush>
                </Button.Background>
            </Button>
        </Border>
    </Grid>
</Window>